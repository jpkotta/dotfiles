#!/usr/bin/perl -w

if ($#ARGV < 0 || $ARGV[0] =~ m/-h|--help|-help/)
{
    my $usage = 
"Usage: $0 <file1> <file2> ...
Converts DOS newlines (CRLF) to Unix newlines (LF)";

    print STDOUT $usage;
    exit(0);
}

foreach $file (@ARGV)
{
    open(FILE, "< $file")
        or die "Could not open $file for reading: $!";
    my @lines = <FILE>;
    close(FILE);

    foreach $line (@lines)
    {
            $line =~ s/\r\n/\n/;
    }

    open(FILE, "> $file")
        or die "Could not open $file for writing: $!";
    print FILE @lines;
    close(FILE);
}

exit(0);
