#!/usr/bin/perl -w

if ($#ARGV < 0 || $ARGV[0] =~ m/-h|--help|-help/)
{
    my $usage = 
"Usage: $0 <file1> <file2> ...
Converts Unix newlines (LF) to DOS newlines (CRLF)"

    print STDOUT $usage;
    exit(0);
}

foreach $file (@ARGV)
{
    open(FILE, "< $file")
        or die "Could not open $file for reading: $!";
    my @lines = <FILE>;
    close(FILE);

    foreach $line (@lines)
    {
        unless ($line =~ m/\r\n/)
        {
            $line =~ s/\n/\r\n/;
        }
    }

    open(FILE, "> $file")
        or die "Could not open $file for writing: $!";
    print FILE @lines;
    close(FILE);
}

exit(0);
